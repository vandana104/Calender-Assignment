<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zygal Frontend Test</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-color: #f5f5f5;
      }

      #calendar {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      #calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        background-color: #3498db;
        color: #fff;
      }

      #month-year {
        font-size: 1.5em;
        font-weight: bold;
      }

      #prev-btn,
      #next-btn {
        background-color: #2980b9;
        color: #fff;
        border: none;
        padding: 10px;
        cursor: pointer;
        border-radius: 4px;
        font-size: 1em;
      }

      #prev-btn:hover,
      #next-btn:hover {
        background-color: #1c5a7c;
      }

      #calendar-body {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
      }

      .day {
        padding: 15px;
        text-align: center;
        cursor: pointer;
        font-size: 1em;
      }

      .day:hover {
        background-color: #3498db;
        color: #fff;
      }

      .selected {
        background-color: #3498db;
        color: #fff;
        border-radius: 50%;
      }

      #selected-dates {
        margin-top: 20px;
        padding: 15px;
        background-color: #3498db;
        color: #fff;
        border-radius: 8px;
      }

      button {
        background-color: #3498db;
        color: #fff;
        border: none;
        padding: 10px;
        cursor: pointer;
        border-radius: 4px;
        font-size: 1em;
      }

      button:hover {
        background-color: #1c5a7c;
      }
    </style>
  </head>
  <body>
    <div id="calendar">
      <div id="calendar-header">
        <button id="prev-btn" onclick="prevMonth()">Prev</button>
        <div id="month-year"></div>
        <button id="next-btn" onclick="nextMonth()">Next</button>
      </div>
      <div id="calendar-body"></div>
    </div>

    <div id="selected-dates"></div>

    <script>
      let currentDate = new Date();
      let selectedDates = [];

      document.addEventListener("DOMContentLoaded", function () {
        renderCalendar(currentDate);
        renderSelectedDates();
      });

      function renderCalendar(date) {
        const calendarBody = document.getElementById("calendar-body");
        const monthYear = document.getElementById("month-year");

        calendarBody.innerHTML = "";
        monthYear.textContent =
          getMonthName(date.getMonth()) + " " + date.getFullYear();

        const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);
        const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);

        let dayCount = 1;

        for (let i = 0; i < 6; i++) {
          for (let j = 0; j < 7; j++) {
            const dayElement = document.createElement("div");
            dayElement.classList.add("day");
            if (
              (i === 0 && j < firstDay.getDay()) ||
              dayCount > lastDay.getDate()
            ) {
              dayElement.textContent = "";
            } else {
              dayElement.textContent = dayCount;
              dayElement.addEventListener("click", function () {
                toggleDate(dayCount, date);
              });

              if (selectedDates.includes(formatDate(dayCount, date))) {
                dayElement.classList.add("selected");
              }

              dayCount++;
            }
            calendarBody.appendChild(dayElement);
          }
        }
      }

      function getMonthName(month) {
        const months = [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ];
        return months[month];
      }

      function formatDate(day, date) {
        const month = date.getMonth() + 1;
        const year = date.getFullYear();
        return `${day < 10 ? "0" : ""}${day}-${
          month < 10 ? "0" : ""
        }${month}-${year}`;
      }

      function toggleDate(day, date) {
        const formattedDate = formatDate(day, date);
        const index = selectedDates.indexOf(formattedDate);

        if (index === -1) {
          selectedDates.push(formattedDate);
        } else {
          selectedDates.splice(index, 1);
        }

        renderCalendar(date);
        renderSelectedDates();
      }

      function renderSelectedDates() {
        const selectedDatesContainer =
          document.getElementById("selected-dates");
        selectedDatesContainer.innerHTML =
          "User Selected Dates - " + JSON.stringify(selectedDates);
      }

      function prevMonth() {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar(currentDate);
      }

      function nextMonth() {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar(currentDate);
      }
    </script>
  </body>
</html>
